<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Termini e condizioni per donazioni di libri ad Ostia.">
    <title>Termini donazione</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configurazione Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: 'var(--primary)',
                        text: 'var(--text)',
                        bg: 'var(--bg)',
                    },
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                    },
                }
            }
        }
    </script>


   
  <!-- Variabili CSS Custom -->
<!-- Stili base e variabili CSS -->
<style>
    * {
        max-width: 100%;
        box-sizing: border-box;
    }

    :root {
        --primary: #970a2c;
        --text: #180207;
        --bg: #f3f4f6;
    }

    html, body {
        width: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }

    body {
        font-weight: 500;
        background-color: var(--bg);
        color: var(--text);
        font-family: 'Space Grotesk', sans-serif;
        font-size: 22px;
        line-height: 32px;
        letter-spacing: normal;
        word-spacing: 0px;
    }
</style>

<!-- Stili Tailwind Custom -->
<style type="text/tailwindcss">
    @layer components {
        .top-banner {
            @apply bg-white px-8 py-3 flex justify-between items-center min-h-[60px];
        }

        .top-banner a {
            @apply border-b-0 flex items-center;
        }

        .top-banner a:hover {
            @apply border-b-0;
        }

        .roma-logo {
            @apply h-10 block;
        }

        .social-icons {
            @apply flex gap-4 justify-end items-center;
        }

        .social-icons a {
            @apply text-[--primary] text-2xl transition-transform;
        }

        .social-icons a:hover {
            @apply transform scale-120;
        }

        header {
            @apply bg-[--primary] text-white py-8 min-h-[4cm] flex justify-center items-center relative flex-col text-center;
        }

        .container-header {
            @apply max-w-7xl mx-auto p-3 flex justify-center items-center text-center flex-wrap gap-4 min-h-[70px];
        }

        .library-name {
            @apply flex items-center gap-2 text-[--text] text-lg mb-4;
        }

        .library-name a {
            @apply relative border-b-0;
        }

        .library-name a:hover {
            @apply border-b-0 no-underline;
        }

        .library-name img {
            @apply h-[22px] w-[22px] align-middle;
        }

        .library-name a.tooltip-library:hover::before {
            @apply content-['Clicca_qui_per_vedere_gli_appuntamenti_della_biblioteca'] absolute bottom-full left-1/2 -translate-x-1/2 px-2 py-1 bg-white text-gray-700 rounded shadow-sm whitespace-nowrap z-10 text-xs mb-1;
        }

        .content-wrapper {
            @apply max-w-[900px] w-full mx-auto px-4 relative mt-[60px];
        }

        .nav-icons {
            @apply absolute -top-[60px] left-1/2 -translate-x-1/2 flex items-center gap-12 pt-5 visible opacity-100;
        }

        .nav-icons a {
            @apply flex items-center visible opacity-100 no-underline border-b-0;
        }

        .nav-icons a:hover {
            @apply transform scale-110 no-underline border-b-0;
        }

        .nav-icons a:first-child {
            @apply font-bold text-3xl relative tracking-wider;
        }

        .nav-icons a:first-child::after {
            @apply content-[''] absolute left-[calc(100%+1.5rem)] top-1/2 -translate-y-1/2 h-5 w-px bg-gray-300;
        }

        main {
            @apply max-w-3xl mx-8 p-8 bg-white rounded-xl shadow-lg;
        }

        main h1 {
            @apply text-[--primary] text-4xl mb-6 leading-tight;
        }

        h2 {
            @apply text-[--primary] text-2xl mb-8 pb-2 border-b-2 border-[--primary];
        }

        ul {
            @apply list-none pl-0;
        }

        ul li {
            @apply py-3 relative pl-6;
        }

        ul li::before {
            @apply content-['â€¢'] text-[--primary] font-bold absolute left-0;
        }

        p {
            @apply mb-7;
        }

        a {
            @apply text-[--primary] no-underline transition-colors hover:text-red-300;
        }

        footer {
            @apply bg-[--primary] text-white font-sans text-sm font-normal py-6;
        }

        .footer-container {
            @apply w-[90%] mx-auto flex flex-wrap justify-between items-center gap-6;
        }

        footer img {
            @apply h-10 max-w-full cursor-pointer;
        }

        footer .info {
            @apply flex flex-wrap gap-8 text-sm text-white;
        }

        .audio-control-container {
            @apply flex items-center gap-3 my-5 relative;
        }

        .audio-control {
            @apply flex items-center justify-center bg-[--primary] border-0 cursor-pointer text-xl text-white w-9 h-9 rounded-full p-0 transition-colors hover:bg-[#800624] relative;
        }

        .audio-control .tooltip {
            @apply absolute bottom-[120%] left-1/2 -translate-x-1/2 bg-white text-gray-700 px-4 py-2 rounded-lg text-sm whitespace-nowrap max-w-[200px] border border-gray-200 opacity-0 invisible transition-opacity z-10 shadow-lg;
        }

        .audio-control:hover .tooltip {
            @apply opacity-100 visible;
        }

        .waveform-container {
            @apply hidden relative h-[60px] bg-gray-100 rounded p-3 my-3 cursor-pointer;
        }

        .waveform-bars {
            @apply flex items-end h-10 gap-px;
        }

        .waveform-bar {
            @apply flex-1 bg-gray-300 min-w-[2px] transition-all;
        }

        .waveform-bar.played {
            @apply bg-[--primary];
        }

        .time-display {
            @apply flex justify-between text-xs mt-1;
        }

        .tooltip-container {
            @apply relative inline-block;
        }

        .tooltip-container::after {
            @apply content-['Questo_link_si_apre_in_una_nuova_finestra'] absolute bg-white text-gray-600 px-3 py-1 rounded text-sm italic whitespace-nowrap invisible opacity-0 transition-opacity pointer-events-none shadow-md border border-gray-200 z-50;
        }

        .social-icons .tooltip-container::after {
            @apply bottom-[-40px] left-[-150%]!important -translate-x-1/2 top-auto bg-white!important;
        }
    }

    @layer utilities {
        @media (max-width: 1400px) {
            .nav-icons {
                @apply -translate-x-[calc(50%+300px)];
            }
        }

        @media (max-width: 1200px) {
            .nav-icons {
                @apply -translate-x-[calc(50%+200px)];
            }
        }

        @media (max-width: 992px) {
            .nav-icons {
                @apply -translate-x-[calc(50%+100px)];
            }
        }

        @media (max-width: 768px) {
            .content-wrapper {
                @apply mt-[60px]!important px-4!important relative!important;
            }

            .nav-icons {
                @apply absolute!important left-4!important -top-10!important transform-none!important p-0!important justify-start!important gap-6!important z-10!important w-auto!important flex!important;
            }

            .nav-icons a:first-child::after {
                @apply content-[''] absolute!important right-[-0.75rem]!important top-1/2!important -translate-y-1/2!important h-4!important w-px!important bg-gray-300/30!important block!important;
            }

            .nav-icons img {
                @apply h-[22px]!important w-[22px]!important block!important;
            }

            header {
                @apply relative!important py-4!important min-h-0!important mb-4!important;
            }

            main {
                @apply mt-8!important;
            }

            .library-name {
                @apply mt-4!important mb-6!important;
            }

            footer .container {
                @apply w-[95%] flex-col items-center text-center;
            }

            footer .info {
                @apply flex-col gap-4 items-center;
            }

            footer .info div {
                @apply flex-col text-center;
            }

            footer .info div:first-child {
                @apply flex-row justify-center gap-2 items-center;
            }

            footer .info div:nth-child(2), 
            footer .info div:nth-child(3) {
                @apply flex-row justify-center items-center gap-2;
            }

            footer .info div:nth-child(2) span, 
            footer .info div:nth-child(3) span {
                @apply inline-block;
            }
        }

        @media print {
            .top-banner, header, .nav-icons, footer {
                @apply hidden;
            }

            main {
                @apply shadow-none border-0 p-0 m-0;
            }
        }
    }
</style>
</head>
<body>
   <div class="top-banner">
        <a href="https://culture.roma.it/" class="tooltip-container" target="_blank" rel="noopener noreferrer">
    <img src="roma.png" alt="Logo Roma" class="roma-logo">
</a>

        <div class="social-icons">
            <a href="https://www.facebook.com/biblioteca.elsamorante?locale=it_IT" target="_blank" aria-label="Facebook" class="tooltip-container">
                <i class="fab fa-facebook"></i>
            </a>
            <a href="https://www.instagram.com/bibliotecaelsamorante/" target="_blank" aria-label="Instagram" class="tooltip-container">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://x.com/bibliomorante" target="_blank" aria-label="X" class="tooltip-container">
                <i class="fab fa-x-twitter"></i>
            </a>
            <a href="https://www.youtube.com/@bibliotecaelsamorante1172/featured" target="_blank" aria-label="YouTube" class="tooltip-container">
                <i class="fab fa-youtube"></i>
            </a>
        </div>
    </div>

  <header>
    <div class="container-header">
        <a href="https://www.bibliotechediroma.it/opac/.do">
            <img src="logobianco.png" alt="Logo Biblioteche di Roma" style="height: 70px; max-width: 100%;">
        </a>
        <a href="https://www.bibliotechediroma.it/opac/library/Biblioteca%20Elsa%20Morante/RMBO2">
            <img src="logomorante.png" alt="Logo Biblioteca Morante" style="height: 180px; max-width: 100%;">
        </a>
    </div>
  </header>

  <div class="content-wrapper">
        <div class="nav-icons">
            <a href="https://www.bibliotechediroma.it/opac/news/donazioni/33158" title="Indietro">
                <img src="left.svg" alt="Indietro" style="height: 22px; width: 22px;">
            </a>
            <a href="https://www.bibliotechediroma.it/opac/.do" title="Home">
                <img src="home.svg" alt="Home" style="height: 22px; width: 22px;">
            </a>
        </div>

        <main>
            
           
<div class="library-name">
  <a href="https://www.openstreetmap.org/?mlat=41.7325117&mlon=12.2718834&zoom=18" target="_blank">
    <img src="location.svg" alt="Location">
  </a>
  <a href="https://www.bibliotechediroma.it/opac/library/Biblioteca%20Elsa%20Morante/RMBO2" target="_blank" class="tooltip-library"> Biblioteca Elsa Morante </a>
</div>


           
<!-- Add this right after the library-name div in your HTML -->
<div class="text-controls">
<div class="audio-control-container">
  <button class="audio-control" id="audioControl">
    <i class="fas fa-headphones"></i>
    <i class="fas fa-play"></i>
    <span class="tooltip">Ascolta l'audio</span>
  </button>
  <span class="audio-label">Ascolta l'audio</span>
</div>


  
   
<div class="waveform-container">
    <div class="waveform-bars"></div>
    <div class="time-display">
        <span id="currentTime">0:00</span>
        <span id="totalTime">0:00</span>
    </div>
</div>

            <h1>Donazione di libri</h1>
            <section>
                <h2>Criteri di Accettazione</h2>
                <p>
                    L'acquisizione della donazione Ã¨ subordinata ai seguenti criteri:
                </p>
                <ul>
                    <li>Gestione coerente e omogenea delle collezioni</li>
                    <li>SostenibilitÃ  del trattamento catalografico</li>
                    <li>DisponibilitÃ  effettiva di spazio</li>
                </ul>
                
                <h2>Materiale Non Accettato</h2>
                <ul>
                    <li>Libri in cattivo stato, sottolineati o danneggiati</li>
                    <li>Opere giÃ  presenti nel Sistema "Biblioteche di Roma"</li>
                    <li>Materiale obsoleto, superato nei contenuti o, specie per la narrativa, non rispondente alle esigenze e alle aspettative attuali dell'utenza.</li>
                    <li>Enciclopedie e opere giuridiche non aggiornate</li>
                    <li>Dizionari con piÃ¹ di quattro anni</li>
                    <li>Testi propagandistici o dottrinali</li>
                    <li>Libri scolastici</li>
                    <li>Riviste e periodici</li>
                    <li>Guide turistiche datate</li>
                    <li>Saggi in lingua originale</li>
                    <li>Documenti autoprodotti</li>
                    <li>Manuali di informatica non recenti</li>
                    <li>Supporti multimediali obsoleti</li>
                    <li>Fumetti da edicola</li>
                    <li>Collane economiche da edicola</li>
                    <li>Tesi di laurea</li>
                </ul>

                <h2>Procedura di Donazione</h2>
                <p>
                    Per valutare i titoli, ti preghiamo di seguire questi passaggi:
                </p>
                <ol>
                    <li>
                        Compila l'apposito 
                        <a href="https://bibliotecamorante.github.io/donazione/" 
                           target="_blank"
                           style="color: var(--primary); font-weight: bold;">modulo</a>.
                    </li>
                    <li>
                        Clicca sul pulsante 
                        <em>Invia Donazione</em> 
                        per trasmettere la tua richiesta alla biblioteca.
                    </li>
                </ol>
               
               <h2>Consegna del materiale</h2>
                <p>
                    Il materiale offerto in dono si potrÃ  consegnare al <em>Front-Office</em> nei seguenti orari: dal lunedÃ¬ al venerdÃ¬, dalle 09:00 alle 18:30, e il sabato dalle 09:00 alle 13:00. 
                </p>
               
               <h2>Rinuncia al diritto di rivendicazione</h2>

               
               
               <p>
                    Le opere accettate entreranno a far parte del patrimonio della biblioteca e non potranno essere reclamate. La catalogazione seguirÃ  i tempi stabiliti dalla biblioteca secondo le prioritÃ  interne.
                </p>
                <p>
                   Il materiale non idoneo per la biblioteca potrÃ  essere destinato ad altri utilizzi che la biblioteca riterrÃ  opportuni (donazione, scambi o bookcrossing), senza alcun vincolo per quest'ultima.
                </p>

                

                <h2>Ulteriori Informazioni</h2>
                <p>
                    Settore Adulti: <a href="mailto:l.daniello@bibliotechediroma.it">l.daniello@bibliotechediroma.it</a><br>
                    Settore Ragazzi: <a href="mailto:f.ferri@bibliotechediroma.it">f.ferri@bibliotechediroma.it</a>
                </p>


<h2>Informativa sulla Privacy</h2>
<p>
    I dati personali raccolti attraverso il modulo di donazione saranno trattati esclusivamente per la gestione della donazione di libri, nel rispetto del Regolamento UE 2016/679 (GDPR). I dati non saranno condivisi con terze parti e saranno conservati solo per il tempo necessario al completamento della donazione.
</p>




               
            </section>
        </main>
    </div>

    






<footer>
    <div class="container">
        <img src="footermorante.png" alt="Logo Biblioteca Morante" 
             style="cursor: pointer;" 
             onclick="window.open('https://www.bibliotechediroma.it/opac/library/Biblioteca%20Elsa%20Morante/RMBO2', '_blank');">
        <div class="info">
            <div>
                <i class="fas fa-location-dot"></i>
                <span>
                    Via Adolfo Cozza 7
                    <span class="block">Municipio X, 00121 Roma</span>
                </span>
            </div>
            <div>
                <i class="fas fa-phone"></i>
                <span>
                    <a href="tel:+390645460481">06 4546 0481</a> / 
                    <a href="tel:+390645460483">0483</a>
                </span>
            </div>
            <div>
                <i class="fas fa-clock"></i>
                <span>
                    LunedÃ¬-VenerdÃ¬ 09:00-18:30
                    <span class="block">Sabato 09:00-13:00</span>
                </span>
            </div>
        </div>
    </div>
</footer>


   
   

   <script>
let speech = null;
let isPlaying = false;
let currentIndex = 0;
let startTime = 0;
let pauseTime = 0;
let totalDuration = 0;
let isDragging = false;

function formatTime(seconds) {
    const minutes = Math.floor(seconds / 60);
    const remainingSeconds = Math.floor(seconds % 60);
    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
}

function calculateTotalDuration() {
    let totalText = '';
    document.querySelectorAll('h1, h2, p, li').forEach(el => {
        totalText += el.textContent + ' ';
    });
    totalDuration = (totalText.split(' ').length * 0.4);
    document.getElementById('totalTime').textContent = formatTime(totalDuration);
}

function createWaveform() {
    const container = document.querySelector('.waveform-bars');
    // Riduciamo il numero di barre da creare
    const numberOfBars = 50; // Prima era probabilmente > 100

    for (let i = 0; i < numberOfBars; i++) {
        const bar = document.createElement('div');
        bar.className = 'waveform-bar';
        const height = 5 + Math.random() * 35;
        bar.style.height = `${height}px`;
        container.appendChild(bar);
    }
}

function updateWaveform(progress) {
    const bars = document.querySelectorAll('.waveform-bar');
    const barsToPlay = Math.floor(progress * bars.length);
    
    bars.forEach((bar, index) => {
        if (index < barsToPlay) {
            bar.classList.add('played');
        } else {
            bar.classList.remove('played');
        }
    });
}

function setupSpeech() {
    speech = new SpeechSynthesisUtterance();
    speech.lang = 'it-IT';
    speech.rate = 0.9;
    speech.pitch = 1;
    
    speech.onend = () => {
        currentIndex++;
        if (currentIndex < document.querySelectorAll('h1, h2, p, li').length) {
            readNextElement();
        } else {
            stopReading();
        }
    };
}

function readNextElement() {
    const textElements = document.querySelectorAll('h1, h2, p, li');
    if (textElements[currentIndex]) {
        speech.text = textElements[currentIndex].textContent;
        window.speechSynthesis.speak(speech);
    }
}

function stopReading() {
    isPlaying = false;
    pauseTime = Date.now() - startTime;
    const audioControl = document.getElementById('audioControl');
    audioControl.innerHTML = '<i class="fas fa-headphones"></i><i class="fas fa-play"></i>';
    window.speechSynthesis.cancel();
}

function resumeReading() {
    startTime = Date.now() - pauseTime;
    isPlaying = true;
    const audioControl = document.getElementById('audioControl');
    audioControl.innerHTML = '<i class="fas fa-pause"></i>';
    updateProgress();
    readNextElement();
}

function updateProgress() {
    if (!isPlaying) return;

    const elapsedTime = (Date.now() - startTime) / 1000;
    const progress = Math.min(elapsedTime / totalDuration, 1);
    
    updateWaveform(progress);
    document.getElementById('currentTime').textContent = formatTime(elapsedTime);
    
    if (progress < 1) {
        requestAnimationFrame(updateProgress);
    }
}

function handleWaveformClick(e) {
    if (isDragging) return;
    
    const rect = e.currentTarget.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const progress = x / rect.width;
    
    startTime = Date.now() - (progress * totalDuration * 1000);
    pauseTime = Date.now() - startTime;
    
    updateWaveform(progress);
    currentIndex = Math.floor(progress * document.querySelectorAll('h1, h2, p, li').length);
    
    if (isPlaying) {
        window.speechSynthesis.cancel();
        readNextElement();
        updateProgress();
    }
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    setupSpeech();
    createWaveform();
    calculateTotalDuration();

    const waveformContainer = document.querySelector('.waveform-container');
    waveformContainer.addEventListener('click', handleWaveformClick);

    const audioControlContainer = document.querySelector('.audio-control-container');
    const audioControl = document.getElementById('audioControl');
    
    audioControl.addEventListener('click', () => {
        const waveformContainer = document.querySelector('.waveform-container');
        
        if (!isPlaying) {
            waveformContainer.style.display = 'block';
            audioControl.innerHTML = '<i class="fas fa-pause"></i>';
            resumeReading();
        } else {
            audioControl.innerHTML = '<i class="fas fa-headphones"></i><i class="fas fa-play"></i>';
            stopReading();
        }
    });
});


      
</script>


   
</body>
</html>
